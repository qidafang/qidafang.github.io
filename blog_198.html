<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>思而勤工作室</title>
	<link rel="stylesheet" href="blog.css">
</head>
<body>
<div id="container">
<a href="index.html">回目录</a>
<h1>从nodejs和mongodb发想</h1>
<div><p>nodejs环境的搭建，在安装了node之后，在eclipse的marketplace中查询nodeclipse安装就行了。<br />
之前按网络上的教程弄，走了不少弯路，还是<strong>用官方的方法稳妥又简单，网上的博客尤其是中文博客专业性和时效性太差了</strong>。</p>

<p>nodeclipse里能直接新建express的工程，最关键的routes和views这两个文件夹，前者放路由，后者放页面模板。<br />
这俩角色不用啰嗦了吧。前者理解为spring-mvc的controller，后者理解为jsp或freemarker页面就行了。</p>

<p>java开发中controller和service的装配用ioc实现最科学，但express简单多了，因为其&ldquo;文件&rdquo;&ldquo;对象&rdquo;&ldquo;组件&rdquo;都是同一个概念，你每编写一个js文件，就是声明了一个js组件，这组件当然就是个对象，而且是天然单例的，我们可以简单地将它们装配，以组合的方式：<br />
var xx = require(&quot;./xx&quot;);<br />
这种简洁优雅的方式不仅express独有，前端的requirejs等框架也提供了这样的能力。在js的世界里，有个amd和cmd规范，专门用于规定组件化和依赖管理。<br />
<strong>这是极大的一件事情，它提高的是js这门语言的上限。</strong></p>

<p>在组件化的基石上，怎样规定包的结构就是按需而定的事情，你也可以像java一样分成表现/业务/持久三个层，如果没那么复杂，也可以分两层甚至不分。<br />
<strong>文件就是组件，组件就是对象，依赖就是写相对路径，委托就是调用对象方法。</strong><br />
这个世界太美好了。</p>

<p>除了mvc之外，B/S届的另一大课题就是orm，但很幸运，如果<a href="http://docs.mongodb.org/getting-started/node/">用mongodb</a>，就不存在这个课题。<br />
mongodb是nosql数据库，连sql都no了，orm中的r即relationship自然无从谈起。<br />
如果数据库里存的就是对象，读写代码还和普通的代码有什么区别？</p>

<p><strong>浏览器的语言是javascript，服务器的语言是javascript，数据库的语言还是javascript！</strong><br />
所以一夜之间雨后春笋般冒出一堆全栈工程师就见怪不怪了，曾经郁郁不得志的在团队中总担任辅助角色的人，突然发现自己已经无所不能。<br />
昔日龌龊不足夸，今朝放荡思无涯。春风得意马蹄疾，一日看尽长安花。</p>

<p>弱类型的正面是灵活，反面是失控的风险更大，这需要程序员有丰富的经验和充分的自信。<br />
之前，你用强类型语言的时候，要写入不存在的字段，编译会通不过；之前，你用关系型数据库的时候，要写入不存在的列，数据库会报告错误。<br />
但现在不会了，它默认你不会失误，它是那么相信你的精准度，以至于根本不检查字段和列是否存在。<br />
少了烦人的检查，但多了出错的可能，就像你离开束缚压抑你的高中后，发现在大学里非常自由但也更可能堕落。<br />
<strong>限制就是保护，法律也好，道德也好，但人们，总想出格。</strong></p>

<p>当你想任意增加一个列，而不用向编译器报备的时候，你就必须自己承担对有哪些列的记录的工作。<br />
脱离监护，就要对自己负责，就像离开家的游子，每一步可能走得都非常强健，也可能一步一步走向落拓。<br />
《少有人走的路》说，自律来源于爱。<br />
你对你的代码有爱吗？还是只是为了赚钱，而投身一个钱多的行业呢？</p>

<p>没有人愿意写文档，脱离了强类型，似乎需要用注释来补充对结构的记录，但人们又说，好的代码，本身就是注释。<br />
就像<strong>好端端的敏捷传入国内，被大量没有下限的屌丝断章取义成胡干有理，够快就行，并作为自己要钱不要脸行为的理论武器。</strong><br />
程序员的懒是天生的，没有懒就没有don&#39;t repeat yourself的口号，就没有那么多为了少敲键盘，宁愿多死脑细胞的精彩封装。<br />
继承和组合，类库和框架，基类和代码生成，程序员在少敲代码上的努力，可谓不遗余力。<br />
这方面的懒，越懒越光荣。<br />
为了少花时间多赚钱，糊弄客户应付差事草率写代码的那种懒呢？是一回事吗？</p>

<p>就算代码不是艺术而只是工业，是否也应该对质量有自己的矜持。<br />
说得露骨一点，程序员是不是应该要脸。<br />
一个人的水平可以有限，但只要他对自己做的事有爱，有敬意，就会自律和勤奋，会越来越进步，能力和收入都慢慢提高。<br />
但如果不要脸了，或者屈从于不要脸的领导了，就算赚了再多的钱，也最多是从屌丝变成有钱的屌丝了。<br />
<strong>人是要有一些精神和操守，有一些君子有所不为的原则的，这不是文艺，只是不放弃自己。</strong><br />
<strong>已经放弃自己的人，当然对坚持不放弃自己的人充满恶毒和恨意，他们会发明种种词汇来污蔑你、颠倒黑白。</strong>而因为屌丝的人数远远多于知识分子，在网络或现实中就会形成一边倒的舆论。<br />
这是很没办法的事，你能做的，只有整理衣冠全身而退，你并没有义务和能力教会牛欣赏美妙的音乐。</p>

<p>node是好东西，但因为发展快，而不稳定，这种不稳定在其本身是弱类型的时候，其风险更大。<br />
以国内从业者平均水平和普遍的工作状态看，这东西相当不靠谱。<br />
但它偏偏就火了起来。<br />
我只能理解为，<strong>做梦都想逆袭的前端从业者太多了，就算是一根稻草，他们也不愿意放过。</strong><br />
所以node今天的流行，主要原因不是技术上的，而是政治上的。</p>

<p>技术上的方面也有，比如javascript天生让人喜欢，光是可以少敲些大写字母这一点，我就非常高兴。<br />
以及它的原生的list和map，在写一些有点复杂的运算代码时，光少敲一些泛型声明都可以省不少力。<br />
还有那些古老的java不具有的语法糖。<br />
组件化和依赖管理，让你不用面对恐怖的spring，没错，恐怖，<strong>尽管和ejb相比spring春风化雨，但在nodejs面前实在过于沉重。</strong><br />
nodejs很轻巧，很简约，代码可以写得很少，不像java中有那么多不必要的复杂度。<br />
和php在某种程度上是相类的，但它走得更远，一是后端甚至数据库都和前端用同一个语言，二是自己本身就是服务器。</p>

<p><strong>既简单优雅又功能强大，但对驾驭者的要求很高，这是我最终的结论。</strong><br />
这也是小众编程语言常有的特点。这该是极客玩的，这个群体跟渴望逆袭的前端屌丝，可谓天差地别。<br />
如果它不是基于javascript的一定不会火，就像安卓如果不是基于java的一定不会火一样。<br />
它未来的路有多宽，个人持谨慎态度，比python和ruby火是想必的，但在服务器端语言，php和java的地位太难撼动，这里面有太多的既得利益者和既往经验。<br />
如果没有大公司在大项目上提供成功范例，估计<strong>使用者还是只能限于极客和文艺程序员范围</strong>。前端工程师的个人站点，是它最有可能流行的一个区域。<br />
还有一个重要因素就是react这种javascript跨平台移动开发技术的发展情况，如果javascript真的一统江湖，nodejs当然会出将入相。</p>

<p>不过由于我几年前对移动开发的前景不乐观，结果事实证明不乐观是错的，所以对现在这个预测也没什么信心&hellip;&hellip;</p>

<p><strong>总结：好玩好用，有必要了解，不应该运用。</strong><br />
建个个人站，做个小功能，写个小脚本，比ruby和python学习成本低，比java简单得到天上去了。还能捎带手熟悉mongodb。</p>
</div>
</div>
</body>
</html>