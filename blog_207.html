<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>思而勤工作室</title>
	<link rel="stylesheet" href="blog.css">
</head>
<body>
<div id="container">
<a href="index.html">回目录</a>
<h1>数据库设计的书籍和一点体会</h1>
<div><p>先说结论：<br />
1.《数据库系统概论》<br />
2.《SQL反模式》</p>

<p>数据库设计，无非两个思路，一是范式，二是反范式。<br />
范式的意义在让数据库科学合理、逻辑性强，在理论上范式能完美解决一切问题。<br />
反范式的意义在提高性能，这需要在某些时候突破范式的限制，让数据库结构看着没那么优雅完美，但能达到更高的查询速度。</p>

<p>关于范式的书，随便哪本都可以，知识点不多，不看书光找博文来了解下也可以。《数据库系统概论》是我上学时的教材，可以作为一个选项。<br />
反范式的书只有《SQL反模式》。<br />
反范式，不祥之器，不得已而用之。<br />
如果没有明显的性能瓶颈，最好全局都严格遵循范式来进行设计，当发现性能瓶颈了再来做数据库重构，这时《数据库重构》就有用了。<br />
当然，数据库是程序的基石，对其重构风险和成本太高。</p>

<p>另外个人认为的几个要点：<br />
1.画E-R图来理实体之间的关系，做这个工作之前要细致耐心地理解需求，做的设计要老实谦卑地反映需求，而不要过于聪明以至于扭曲了需求，否则需求变化时修改成本会太高。<br />
2.表的id用uuid或递增数都行，千万不要用有业务含义的列，多对多的中间表最好也有个id，而不用联合主键，这样当这个中间表需要变成有业务含义的表时会很方便。<br />
3.删除要做逻辑删除而不是物理删除，有一定的容错率。<br />
4.数据库只用做容器，被程序增删改查地调用，存储过程和触发器这种彩蛋功能尽量不要使用。个别时候存储过程作为批量修改数据的脚本使用倒不错，但这种脚本过于强大粗暴，一旦搞垮了数据库后果不堪设想，使用时一定要慎重。</p>

<p>最后，工具的话PowerDesigner可以学着用，确实很强大，但我一直不会用，也不喜欢。我还是喜欢纸和笔。</p>
</div>
</div>
</body>
</html>